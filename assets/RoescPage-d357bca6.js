import{j as e,r as c,L as m,u}from"./index-bd331509.js";import{g as p}from"./fetchData-0a617d3c.js";import{p as x,M as f}from"./Markdown-d87782fc.js";import{U as j}from"./UsersString-b99bb1b7.js";import{g as a,O as g}from"./OutLink-9cc7a29e.js";import{L as b}from"./LogoImage-479b8592.js";import{T as y}from"./Table-cd77419b.js";import{g as E}from"./roesc-80112842.js";import{T as d,C as h,M as w}from"./Media-c637da36.js";import"./users-3f94d716.js";import"./MediaSection-eef6b632.js";import"./countryList-498b3ce4.js";function S({data:r,style:i}){return e.jsx("div",{className:"table-container sideTable",style:i,children:e.jsxs("table",{className:"table is-bordered is-striped is-hoverable",children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:2,style:{textAlign:"center"},children:r.name})})}),e.jsxs("tbody",{children:[a(r.media,"logos").length>0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx(b,{logos:a(r.media,"logos")})})}):"",e.jsxs("tr",{children:[e.jsx("th",{children:"Short Name:"}),e.jsx("td",{children:r.shortName})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Owners:"}),e.jsx("td",{children:e.jsx(j,{userids:r.owners})})]}),r.previousOwners.length>0?e.jsxs("tr",{children:[e.jsx("th",{children:"Previous Owners: "}),e.jsx("td",{children:e.jsx(j,{userids:r.previousOwners})})]}):"",e.jsxs("tr",{children:[e.jsx("th",{children:"Created: "}),e.jsx("td",{children:x(r.creationDate)})]}),r.cancellationDate!==""?e.jsxs("tr",{children:[e.jsx("th",{children:"Cancelled: "}),e.jsx("td",{children:x(r.cancellationDate)})]}):"",e.jsx("tr",{children:e.jsx("td",{colSpan:2,style:{textAlign:"center"},children:r.links.map((n,t)=>e.jsxs("a",{href:n.link,target:"_blank",rel:"noreferrer",children:[n.name,e.jsx("br",{})]},t))})})]})]})})}function k({edition:r,roesc:i}){var n,t,l,s,o;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(m,{to:`/roescs/${i}/${r.link}`,children:r.edition})}),e.jsx("td",{children:e.jsxs(d,{children:[r.venues[0].city,", ",e.jsx(h,{id:r.venues[0].country})]})}),r.cancelled?e.jsx("td",{colSpan:6,style:{textAlign:"center"},children:"Edition cancelled"}):e.jsxs(e.Fragment,{children:[e.jsx("td",{children:x(r.date)}),e.jsx("td",{children:e.jsx(d,{children:e.jsx(h,{id:(n=r.winner)==null?void 0:n.country})})}),e.jsx("td",{children:e.jsx(g,{to:(t=r.winner)==null?void 0:t.link,children:(l=r.winner)==null?void 0:l.song})}),e.jsx("td",{children:(s=r.winner)==null?void 0:s.artists}),e.jsx("td",{children:(o=r.winner)==null?void 0:o.points}),e.jsx("td",{children:e.jsx(d,{children:e.jsx(h,{id:r.runnerup})})})]})]})}function v({roesc:r}){const[i,n]=c.useState(),[t,l]=c.useState("");return c.useEffect(()=>{n(null),l(""),E(r).then(s=>n(s)).catch(s=>l(s))},[r]),t?e.jsxs("p",{children:["Error: ",t]}):i?e.jsx(y,{columns:["Edition","Host City","Date","Winner","Song","Performer(s)","Points","Runner-Up"],children:i.map((s,o)=>e.jsx(k,{edition:s,roesc:r},o))}):e.jsx("p",{children:"Loading..."})}function L({data:r}){return e.jsxs("div",{children:[e.jsx("h1",{children:r.name}),e.jsx("hr",{}),e.jsx(S,{data:r,style:{float:"right"}}),e.jsx("div",{children:e.jsx(f,{value:r.textContent})}),e.jsx("div",{style:{clear:"both"}}),e.jsx("h1",{children:"Editions"}),e.jsx(v,{roesc:r.link}),e.jsx("hr",{}),e.jsx(w,{media:r.media}),e.jsx("hr",{style:{clear:"both"}}),e.jsx(m,{to:`/editor/main/existing/${r.link}`,className:"button is-primary is-outlined",children:"Edit This Page"})]})}function F(){const{roesc:r}=u(),[i,n]=c.useState(),[t,l]=c.useState("");return c.useEffect(()=>{n(null),l(""),p(r).then(s=>{n(s)}).catch(s=>{l(s)})},[r]),t?e.jsxs("h1",{children:["Error: ",t]}):i?e.jsx(L,{data:i}):e.jsx("h1",{children:"Loading..."})}export{F as default};
