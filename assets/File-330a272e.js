import{r as i,j as e,F as d,B as F}from"./index-15610dad.js";import{E as S}from"./Editor-055c9395.js";import"./BroadcastingTable-ed0bc6c4.js";import"./Table-e08ef844.js";import"./users-b41d9b46.js";function T(){const[a,x]=i.useState(),[l,f]=i.useState(),[r,h]=i.useState(""),[t,n]=i.useState(),[m,j]=i.useState();function p(){if(a.type!=="application/json")return h("This file is not valid");const s=new FileReader;s.onload=async u=>{const N=u.target.result,c=JSON.parse(N);if(l){const o=new FileReader;o.onload=b=>{const g=b.target.result,E=JSON.parse(g);j(E),n(c)},o.readAsText(l)}else n(c)},s.readAsText(a)}return t?e.jsxs("div",{children:[e.jsxs("h1",{children:["Editing ",t.name]}),e.jsx("hr",{}),e.jsx(S,{data:t,setData:n,users:m})]}):e.jsxs("div",{children:[e.jsx("h1",{children:"Edit user data from file"}),e.jsx("hr",{}),e.jsx("div",{className:`file has-name is-fullwidth ${r&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>x(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(d,{})}),e.jsx("span",{className:"file-label",children:"Choose a broadcaster file…"})]}),e.jsx("span",{className:"file-name",children:a==null?void 0:a.name})]})}),e.jsx("br",{}),e.jsx("div",{className:`file has-name is-fullwidth ${r&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>f(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(d,{})}),e.jsx("span",{className:"file-label",children:"Choose a users file…"})]}),e.jsx("span",{className:"file-name",children:l==null?void 0:l.name})]})}),e.jsx("br",{}),e.jsx(F,{onClick:p,children:"Continue"})]})}export{T as default};
