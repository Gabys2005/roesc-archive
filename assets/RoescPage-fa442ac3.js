import{j as e,r as c,L as u,u as m}from"./index-66c1ed07.js";import{g as p}from"./fetchData-fdb5cced.js";import{p as x,M as f}from"./Markdown-3f3254c5.js";import{U as j}from"./UsersString-c322efe8.js";import{g as a,O as g}from"./OutLink-a05df080.js";import{L as b}from"./LogoImage-c2b249ab.js";import{T as w}from"./Table-48e4936a.js";import{g as y}from"./roesc-65b909f4.js";import{T as d,C as h,M as E}from"./Media-1cf871db.js";import"./users-336392cd.js";import"./MediaSection-40156ace.js";import"./countryList-fb00d126.js";function k({data:r,style:i}){return e.jsx("div",{className:"table-container sideTable",style:i,children:e.jsxs("table",{className:"table is-bordered is-striped is-hoverable",children:[e.jsx("thead",{children:e.jsx("tr",{children:e.jsx("th",{colSpan:2,style:{textAlign:"center"},children:r.name})})}),e.jsxs("tbody",{children:[a(r.media,"logos").length>0?e.jsx("tr",{children:e.jsx("td",{colSpan:2,children:e.jsx(b,{logos:a(r.media,"logos")})})}):"",e.jsxs("tr",{children:[e.jsx("th",{children:"Short Name:"}),e.jsx("td",{children:r.shortName})]}),e.jsxs("tr",{children:[e.jsx("th",{children:"Owners:"}),e.jsx("td",{children:e.jsx(j,{userids:r.owners})})]}),r.previousOwners.length>0?e.jsxs("tr",{children:[e.jsx("th",{children:"Previous Owners: "}),e.jsx("td",{children:e.jsx(j,{userids:r.previousOwners})})]}):"",e.jsxs("tr",{children:[e.jsx("th",{children:"Created: "}),e.jsx("td",{children:x(r.creationDate)})]}),r.cancellationDate!==""?e.jsxs("tr",{children:[e.jsx("th",{children:"Cancelled: "}),e.jsx("td",{children:x(r.cancellationDate)})]}):"",e.jsx("tr",{children:e.jsx("td",{colSpan:2,style:{textAlign:"center"},children:r.links.map((n,t)=>e.jsxs("a",{href:n.link,target:"_blank",rel:"noreferrer",children:[n.name,e.jsx("br",{})]},t))})})]})]})})}function v({edition:r,roesc:i}){var n,t,l,s,o;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(u,{to:`/roescs/${i}/${r.link}`,children:r.edition})}),e.jsx("td",{children:e.jsxs(d,{children:[r.venues[0].city,", ",e.jsx(h,{id:r.venues[0].country})]})}),e.jsx("td",{children:x(r.date)}),e.jsx("td",{children:e.jsx(d,{children:e.jsx(h,{id:(n=r.winner)==null?void 0:n.country})})}),e.jsx("td",{children:e.jsx(g,{to:(t=r.winner)==null?void 0:t.link,children:(l=r.winner)==null?void 0:l.song})}),e.jsx("td",{children:(s=r.winner)==null?void 0:s.artists}),e.jsx("td",{children:(o=r.winner)==null?void 0:o.points}),e.jsx("td",{children:e.jsx(d,{children:e.jsx(h,{id:r.runnerup})})})]})}function S({roesc:r}){const[i,n]=c.useState(),[t,l]=c.useState("");return c.useEffect(()=>{n(null),l(""),y(r).then(s=>n(s)).catch(s=>l(s))},[r]),t?e.jsxs("p",{children:["Error: ",t]}):i?e.jsx(w,{columns:["Edition","Host City","Date","Winner","Song","Performer(s)","Points","Runner-Up"],children:i.map((s,o)=>e.jsx(v,{edition:s,roesc:r},o))}):e.jsx("p",{children:"Loading..."})}function L({data:r}){return e.jsxs("div",{children:[e.jsx("h1",{children:r.name}),e.jsx("hr",{}),e.jsx(k,{data:r,style:{float:"right"}}),e.jsx("div",{children:e.jsx(f,{value:r.textContent})}),e.jsx("div",{style:{clear:"both"}}),e.jsx("h1",{children:"Editions"}),e.jsx(S,{roesc:r.link}),e.jsx("hr",{}),e.jsx(E,{media:r.media}),e.jsx("hr",{style:{clear:"both"}}),e.jsx(u,{to:`/editor/main/existing/${r.link}`,className:"button is-primary is-outlined",children:"Edit This Page"})]})}function H(){const{roesc:r}=m(),[i,n]=c.useState(),[t,l]=c.useState("");return c.useEffect(()=>{n(null),l(""),p(r).then(s=>{n(s)}).catch(s=>{l(s)})},[r]),t?e.jsxs("h1",{children:["Error: ",t]}):i?e.jsx(L,{data:i}):e.jsx("h1",{children:"Loading..."})}export{H as default};
