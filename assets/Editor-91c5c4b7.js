import{r as v,_ as P,j as r,a as e,F as A,e as E,o as D,l as B,m as M,n as I,p as V,k as J}from"./index-b39423cb.js";const $={longName:"",shortName:"",link:"",created:"",cancelled:"",owners:[""],previous_owners:[],links:{}},G={number:"",link:"",cities:[""],countries:[""],venues:[""],slogans:[""],dates:{},reveals:{},venue_bidding:[],presenters:[],shows:[],pots:[],notes:[],openings:{},intervals:{},links:{},nfs:[],entries:[]};function H(t){const[n,u]=v.useState(""),[d,h]=v.useState(""),[c,s]=v.useState(""),[a,l]=v.useState(),[i,o]=v.useState([]),[p,f]=v.useState([]),b=localStorage.getItem("backup_main")||localStorage.getItem("backup_edition");function _(){t.onInit({type:"main",data:$})}function S(){t.onInit({type:"edition",data:G})}function w(){const m=structuredClone(i.find(g=>g.link===n));delete m.editions,t.onInit({type:"main",data:m})}function F(){const g=i.find(k=>k.link===n).editions.find(k=>k.link===d);t.onInit({type:"edition",data:g})}function C(m){const k=m.target.files[0];if(k){s(k.name);const j=new FileReader;j.onload=function(){l(JSON.parse(j.result))},j.readAsText(k)}}function y(){a&&(a.owners?t.onInit({type:"main",data:a}):t.onInit({type:"edition",data:a}))}function U(){const m=localStorage.getItem("backup_main");if(m){const g=JSON.parse(m);t.onInit({type:"main",data:g})}}return v.useEffect(()=>{P(()=>import("./combined-f42231e6.js"),[]).then(m=>{u(m.default[0].link),o(m.default)})},[]),v.useEffect(()=>{const m=i.find(g=>g.link===n);m&&f(m.editions)},[n,i]),r("div",{children:[e("h2",{children:"How would you like to start?"}),r("p",{children:[`"Main" files are files that contain information about a RoESC that isn't different during every edition: name, owner(s), created/cancelled dates, links`,e("br",{}),'"Edition" files are files that contain information about a specific edition: host, songs, nfs, theme, dates, etc.']}),r("div",{className:"tile is-ancestor",children:[e("div",{className:"tile is-parent",children:r("article",{className:"tile is-child box",children:[e("p",{className:"title",children:"Start with a blank template"}),r("div",{className:"buttons",children:[e("button",{className:"button is-primary",onClick:_,children:"Main File"}),e("button",{className:"button is-primary",onClick:S,children:"Edition File"})]})]})}),e("div",{className:"tile is-parent",children:r("article",{className:"tile is-child box",children:[e("p",{className:"title",children:"Choose an existing RoESC"}),e("div",{className:"select field is-fullwidth",children:e("select",{onChange:m=>u(m.target.value),children:i.map(m=>e("option",{value:m.link,children:m.longName},m.link))})}),e("div",{className:"select field is-fullwidth",children:e("select",{onChange:m=>h(m.target.value),children:p.map(m=>r("option",{value:m.link,children:[m.number," - ",m.city," - ",m.country]},m.link))})}),r("div",{className:"buttons",children:[e("button",{className:"button is-primary",onClick:w,children:"Main File"}),e("button",{className:"button is-primary",onClick:F,children:"Edition File"})]})]})}),e("div",{className:"tile is-parent",children:r("article",{className:"tile is-child box",children:[e("p",{className:"title",children:"Import a file"}),e("div",{className:"file has-name is-fullwidth",children:r("label",{className:"file-label",children:[e("input",{accept:".json",className:"file-input",type:"file",name:"resume",onChange:C}),e("span",{className:"file-cta",children:e("span",{className:"file-label",children:"Choose a fileâ€¦"})}),e("span",{className:"file-name",children:c})]})}),e("br",{}),e("button",{className:"button is-primary",onClick:y,children:"Continue"})]})}),b&&e("div",{className:"tile is-parent",children:r("article",{className:"tile is-child box",children:[e("p",{className:"title",children:"Load from backup"}),e("p",{children:"Every time you make a change, the data gets saved to your device. You can load the most recent edit by using the buttons below"}),r("div",{className:"buttons",children:[e("button",{className:"button is-primary",onClick:U,children:"Main File"}),e("button",{className:"button is-primary",children:"Edition File"})]})]})})]})]})}function x(t){return r("div",{className:"mb-5",children:[r("p",{className:"subtitle",children:[r("b",{children:[t.placeholder,": "]}),t.description]}),e("input",{type:t.type||"text",className:"input",placeholder:t.placeholder,value:t.value,onChange:t.onChange}),e("hr",{})]})}function N(t){const[n,u]=v.useState(t.value||[]);function d(){const s=[...n,""];u(s),t.onChange({target:{value:s}})}function h(s){return function(a){const l=n.map((i,o)=>s===o?a.target.value:i);u(l),t.onChange({target:{value:l}})}}function c(s){return function(){const a=n.filter((l,i)=>i!==s);u(a),t.onChange({target:{value:a}})}}return r("div",{className:"mb-5",children:[r("p",{className:"subtitle",children:[r("b",{children:[t.placeholder,": "]}),t.description]}),n.map((s,a)=>r("div",{className:"field has-addons",children:[e("p",{className:"control is-expanded",children:e("input",{className:"input",type:"text",value:s,onChange:h(a),placeholder:`${t.placeholder} ${n.length>1?a+1:""}`})}),e("p",{className:"control",children:e("button",{className:"button is-danger is-outlined",onClick:c(a),children:"X"})}),t.inline&&a+1===n.length?e("button",{className:"button is-primary is-outlined",onClick:d,children:"Add another"}):e(A,{})]},a)),!t.inline||n.length===0?e("button",{className:"button is-primary",onClick:d,children:"Add another"}):e(A,{}),e("hr",{})]})}var O={},X={get exports(){return O},set exports(t){O=t}};(function(t,n){(function(u,d){d()})(E,function(){function u(i,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}function d(i,o,p){var f=new XMLHttpRequest;f.open("GET",i),f.responseType="blob",f.onload=function(){l(f.response,o,p)},f.onerror=function(){console.error("could not download file")},f.send()}function h(i){var o=new XMLHttpRequest;o.open("HEAD",i,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function c(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof E=="object"&&E.global===E?E:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(i,o,p){var f=s.URL||s.webkitURL,b=document.createElement("a");o=o||i.name||"download",b.download=o,b.rel="noopener",typeof i=="string"?(b.href=i,b.origin===location.origin?c(b):h(b.href)?d(i,o,p):c(b,b.target="_blank")):(b.href=f.createObjectURL(i),setTimeout(function(){f.revokeObjectURL(b.href)},4e4),setTimeout(function(){c(b)},0))}:"msSaveOrOpenBlob"in navigator?function(i,o,p){if(o=o||i.name||"download",typeof i!="string")navigator.msSaveOrOpenBlob(u(i,p),o);else if(h(i))d(i,o,p);else{var f=document.createElement("a");f.href=i,f.target="_blank",setTimeout(function(){c(f)})}}:function(i,o,p,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof i=="string")return d(i,o,p);var b=i.type==="application/octet-stream",_=/constructor/i.test(s.HTMLElement)||s.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||b&&_||a)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var y=w.result;y=S?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=y:location=y,f=null},w.readAsDataURL(i)}else{var F=s.URL||s.webkitURL,C=F.createObjectURL(i);f?f.location=C:location.href=C,f=null,setTimeout(function(){F.revokeObjectURL(C)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(X);function W(t){const[n,u]=v.useState(D(t.value).map(a=>({key:a[0],value:a[1]}))||[]);function d(a){const l={};a.forEach(i=>{l[i.key]=i.value}),t.onChange({target:{value:l}})}function h(){const a=[...n,{key:"",value:""}];u(a),d(a)}function c(a,l){return function(i){const o=n.map((p,f)=>a===f?l==="key"?{key:i.target.value,value:p.value}:{key:p.key,value:i.target.value}:p);u(o),d(o)}}function s(a){return function(){const l=n.filter((i,o)=>o!==a);u(l),d(l)}}return r("div",{className:"mb-5",children:[r("p",{className:"subtitle",children:[r("b",{children:[t.title,": "]}),t.description]}),n.map((a,l)=>r("div",{className:"field has-addons",children:[e("p",{className:"control is-expanded",children:e("input",{type:"text",className:"input",value:a.key,onChange:c(l,"key"),placeholder:`${t.leftPlaceholder} ${l+1}`})}),e("p",{className:"control is-static",children:e("button",{className:"button is-secondary",disabled:!0,children:":"})}),e("p",{className:"control is-expanded",children:e("input",{type:t.valueType||"text",className:"input",value:a.value,onChange:c(l,"value"),placeholder:`${t.rightPlaceholder} ${l+1}`})}),e("p",{className:"control",children:e("button",{className:"button is-danger is-outlined",onClick:s(l),children:"X"})})]},l)),e("button",{className:"button is-primary",onClick:h,children:"Add another"}),e("hr",{})]})}function T(t){const[n,u]=v.useState(t.value===""?!0:B(t.value)),[d,h]=v.useState(B(t.value)?t.value:""),[c,s]=v.useState(t.value);function a(i){n?h(i.target.value):s(i.target.value),t.onChange(i)}function l(){u(!n),n?t.onChange({target:{value:c}}):t.onChange({target:{value:d}})}return r("div",{className:"mb-5",children:[r("p",{className:"subtitle",children:[r("b",{children:[t.placeholder,": "]}),t.description]}),r("label",{className:"switch field is-rounded",children:[e("input",{type:"checkbox",checked:n,onChange:l}),e("span",{className:"check"}),e("span",{className:"control-label",children:"Is the date exact?"})]}),e("input",{type:n?"date":"text",className:"input",placeholder:t.placeholder,value:n?d:c,onChange:a}),e("hr",{})]})}function q(t){const[n,u]=v.useState(t.data);function d(c,s){return function(a){let l=a.target.value;s&&(s.lowercase&&(l=l.toLowerCase()),s.link&&(l=l.replace(M,"")));const i={...n,[c]:l};u(i),localStorage.setItem("backup_main",JSON.stringify(i))}}function h(){const c=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});O.saveAs(c,"main.json")}return r("div",{children:[e("button",{className:"button is-primary",onClick:()=>t.goBack(),children:"Go Back"}),e("br",{}),e("br",{}),r("div",{className:"box",children:[e("h2",{children:"Basic information"}),e(x,{description:"Full Name of the RoESC, for example Gabys' Eurovision Song Contest",placeholder:"Long Name",value:n.longName,onChange:d("longName")}),e(x,{description:"The shortened name of the RoESC, for example GESC",placeholder:"Short Name",value:n.shortName,onChange:d("shortName")}),e(x,{description:`The link that will be used for that RoESC. Generally it should be the short name but in
                    lowercase, but make sure to check if that link is not taken already`,placeholder:"Link",value:n.link,onChange:d("link",{lowercase:!0,link:!0})}),e(T,{description:"When was this RoESC created/announced?",placeholder:"Date Created",value:n.created,onChange:d("created"),type:"date"}),e(T,{description:"When was this RoESC cancelled? (leave empty if not cancelled)",placeholder:"Date Cancelled",value:n.cancelled,onChange:d("cancelled"),type:"date"}),e(N,{description:"Current owner(s) (or owners at the time of cancellation)",placeholder:"Owner",value:n.owners,onChange:d("owners")}),e(N,{description:"People who used to own this RoESC but are no longer the owners (or weren't at the time of cancellation)",placeholder:"Previous Owner",value:n.previous_owners,onChange:d("previous_owners")}),e(W,{description:"Links to the game, youtube videos, wikis, websites, scorewiz scorebords, etc.",title:"Links",leftPlaceholder:"Title",rightPlaceholder:"Link",value:n.links,onChange:d("links"),valueType:"url"})]}),r("div",{className:"box",children:[e("h2",{children:"Output"}),e("textarea",{className:"textarea field",value:JSON.stringify(n,null,2),rows:"20",readOnly:!0}),e("button",{onClick:h,className:"button is-primary",children:"Download"})]})]})}function z(t){const[n,u]=v.useState(t.value);function d(h){return function(){let c;n.indexOf(h)===-1?c=[...n,h]:c=n.filter(a=>a!==h),u(c);const s=[];t.values.forEach(a=>{c.indexOf(a)!==-1&&s.push(a)}),t.onChange({target:{value:s}})}}return r("div",{className:"mb-5",children:[r("p",{className:"subtitle",children:[r("b",{children:[t.placeholder,": "]}),t.description]}),t.values.map(h=>r("div",{children:[r("label",{className:"b-checkbox checkbox",children:[e("input",{type:"checkbox",value:h,checked:n.indexOf(h)!==-1,onChange:d(h)}),e("span",{className:"check"}),r("span",{className:"control-label",children:[I[h]," ",t.comments&&t.comments[h]?`(${t.comments[h]})`:""]})]}),e("br",{})]},h)),e("hr",{})]})}function R({children:t,title:n}){const[u,d]=v.useState(!0);return r("div",{className:"box",children:[r("button",{style:{display:"flex",justifyContent:"space-between",background:0,width:"100%",textAlign:"left",cursor:"pointer",border:0},onClick:()=>d(!u),children:[e("h1",{children:n}),e("h2",{style:{marginTop:0},children:u?e("i",{className:"fa-solid fa-caret-down"}):e("i",{className:"fa-solid fa-caret-up"})})]}),e("div",{className:u?"is-hidden":"",children:t})]})}function K({data:t,change:n}){return r(R,{title:"Basic Information",children:[e(x,{description:"The hashtagged number used in this edition, for example #03",placeholder:"Number",value:t.number,onChange:n("number")}),e(x,{description:"The link to this edition's page, generally it should be the number but without special characters",placeholder:"Link",value:t.link,onChange:n("link",{lowercase:!0,link:!0})}),e(N,{description:"The city (or cities) that this edition took place in",placeholder:"City",value:t.cities,onChange:n("cities"),inline:!0}),e(N,{description:"The country (or countries) that this edition took place in",placeholder:"Country",value:t.countries,onChange:n("countries"),inline:!0}),e(N,{description:"The venue(s) that this edition took place in",placeholder:"Venue",value:t.venues,onChange:n("venues"),inline:!0}),e(N,{description:"The slogan(s) for this edition",placeholder:"Slogan",value:t.slogans,onChange:n("slogans"),inline:!0}),e(N,{description:"The host(s) of this edition",placeholder:"Presenter",value:t.presenters,onChange:n("presenters"),inline:!0}),e(z,{description:"Which shows were a part of this edition",placeholder:"Shows",value:t.shows,values:Object.keys(I),comments:{sf:"only one"},onChange:n("shows")})]})}function Y({data:t,change:n}){const[u,d]=v.useState(t.dates);function h(c){return function(s){const a={...u,[c]:s.target.value};d(a)}}return v.useEffect(()=>{const s=D(u).filter(a=>t.shows.find(l=>l===a[0]));d(V(s))},[t.shows]),v.useEffect(()=>{n("dates")({target:{value:u}})},[u]),r(R,{title:"Dates",children:[Object.keys(t.shows).length===0?e("p",{children:'Choose the shows that took part in this edition in the "Basic Information" section'}):"",t.shows.map(c=>e(T,{description:"",placeholder:I[c],value:t.dates[c]||"",onChange:h(c)},c))]})}function Q({data:t,change:n}){const[u,d]=v.useState(t.reveals);function h(c){return function(s){d({...u,[c]:s.target.value})}}return v.useEffect(()=>{const s=D(u).filter(a=>a[1]!=="");n("reveals")({target:{value:V(s)}})},[u]),e(R,{title:"Reveals",children:D(J).map(c=>e(T,{description:"",placeholder:c[1],value:t.reveals[c[0]]||"",onChange:h(c[0])},c[0]))})}function Z({data:t,change:n}){const[u,d]=v.useState([]);v.useEffect(()=>{d(t.venue_bidding)},[t.venue_bidding]);function h(){n("venue_bidding")({target:{value:[...u,{city:"",venue:""}]}})}function c(l){n("venue_bidding")({target:{value:u.filter((i,o)=>o!==l)}})}function s(l,i){n("venue_bidding")({target:{value:u.map((o,p)=>(p===l&&(o.city=i),o))}})}function a(l,i){n("venue_bidding")({target:{value:u.map((o,p)=>(p===l&&(o.venue=i),o))}})}return r(R,{title:"Venue Bidding",children:[t.venue_bidding.map((l,i)=>r("div",{children:[e("div",{className:"field has-addons is-horizontal",children:r("div",{className:"field-body",children:[e("div",{className:"field",children:e("p",{className:"control is-expanded",children:e("input",{type:"text",className:"input",placeholder:"City",value:l.city,onChange:o=>s(i,o.target.value)})})}),e("div",{className:"field",children:e("p",{className:"control is-expanded",children:e("input",{type:"text",className:"input",placeholder:"Venue",value:l.venue,onChange:o=>a(i,o.target.value)})})}),e("div",{className:"field",children:e("p",{className:"control",children:e("button",{className:"button is-danger is-outlined",onClick:()=>c(i),children:"X"})})})]})},i),e("hr",{})]},i)),e("button",{className:"button is-primary",onClick:h,children:"Add Another"})]})}function ee(t){const[n,u]=v.useState(t.data);function d(c,s){return function(a){let l=a.target.value;s&&(s.lowercase&&(l=l.toLowerCase()),s.link&&(l=l.replace(M,"")));const i={...n,[c]:l};u(i),localStorage.setItem("backup_edition",JSON.stringify(i))}}function h(){console.log(n);const c=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});O.saveAs(c,`${n.link||"edition"}.json`)}return r("div",{children:[e("button",{className:"button is-primary",onClick:()=>t.goBack(),children:"Go Back"}),e("br",{}),e("br",{}),e(K,{data:n,change:d}),e(Y,{data:n,change:d}),e(Q,{data:n,change:d}),e(Z,{data:n,change:d}),r("div",{className:"box",children:[e("h2",{children:"Output"}),e("textarea",{className:"textarea field",value:JSON.stringify(n,null,2),rows:"20",readOnly:!0}),e("button",{onClick:h,className:"button is-primary",children:"Download"})]})]})}function L(t){return r("div",{children:[e("h1",{children:"Editor"}),e("hr",{}),t.children]})}function ne(){const[t,n]=v.useState(!1),[u,d]=v.useState("main"),[h,c]=v.useState();function s(l){c(l.data),d(l.type),n(!0)}function a(){n(!1)}return t===!1?e(L,{children:e(H,{onInit:s})}):u==="main"?e(L,{children:e(q,{goBack:a,data:h})}):u==="edition"?e(L,{children:e(ee,{goBack:a,data:h})}):e("h1",{children:"error?"})}export{ne as default};
