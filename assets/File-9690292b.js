import{r as t,j as e}from"./index-cfd3194b.js";import{F as d}from"./index.esm-8e1347b1.js";import{B as F}from"./Info-4d9ecd52.js";import{E as S}from"./Editor-2df8d9cf.js";import"./Markdown-9bd9de92.js";import"./utils-75a31d05.js";import"./OutLink-4d00e3c9.js";import"./Output-6cbf3eda.js";import"./ImagesInput-c0a313db.js";import"./defaultEditorData-3d63535f.js";import"./BroadcastingTable-0f3b6738.js";import"./Table-cfad9ebf.js";import"./users-cf66bd67.js";function D(){const[a,m]=t.useState(),[i,p]=t.useState(),[n,f]=t.useState(""),[l,r]=t.useState(),[x,h]=t.useState();function j(){if(a.type!=="application/json")return f("This file is not valid");const s=new FileReader;s.onload=async u=>{const N=u.target.result,o=JSON.parse(N);if(i){const c=new FileReader;c.onload=b=>{const g=b.target.result,E=JSON.parse(g);h(E),r(o)},c.readAsText(i)}else r(o)},s.readAsText(a)}return l?e.jsxs("div",{children:[e.jsxs("h1",{children:["Editing ",l.name]}),e.jsx("hr",{}),e.jsx(S,{data:l,setData:r,users:x})]}):e.jsxs("div",{children:[e.jsx("h1",{children:"Edit user data from file"}),e.jsx("hr",{}),e.jsx("div",{className:`file has-name is-fullwidth ${n&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>m(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(d,{})}),e.jsx("span",{className:"file-label",children:"Choose a broadcaster file…"})]}),e.jsx("span",{className:"file-name",children:a==null?void 0:a.name})]})}),e.jsx("br",{}),e.jsx("div",{className:`file has-name is-fullwidth ${n&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>p(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(d,{})}),e.jsx("span",{className:"file-label",children:"Choose a users file…"})]}),e.jsx("span",{className:"file-name",children:i==null?void 0:i.name})]})}),e.jsx("br",{}),e.jsx(F,{onClick:j,children:"Continue"})]})}export{D as default};
