import{r as t,j as e}from"./index-6ab4e81d.js";import{F as m}from"./index.esm-5812b1e0.js";import{B as S}from"./Output-531059b2.js";import{E as C}from"./Editor-d56bde99.js";import"./Markdown-782170bc.js";import"./OutLink-bad4ca26.js";import"./utils-ac6326dd.js";import"./users-0756d182.js";import"./fetchData-1b36219e.js";import"./Editor-a92c73fc.js";import"./v4-872b0555.js";import"./Inputs-4ef34554.js";import"./BroadcastingTable-e0817366.js";import"./Table-b8ae0673.js";import"./countryList-b15a9240.js";import"./UserList-9fdec340.js";import"./BiddingTable-33a71d0a.js";function H(){const[a,p]=t.useState(),[i,d]=t.useState(),[r,f]=t.useState(""),[l,n]=t.useState(),[x,h]=t.useState();function j(){if(a.type!=="application/json")return f("This file is not valid");const s=new FileReader;s.onload=async u=>{const N=u.target.result,o=JSON.parse(N);if(i){const c=new FileReader;c.onload=g=>{const b=g.target.result,F=JSON.parse(b);h(F),n(o)},c.readAsText(i)}else n(o)},s.readAsText(a)}return l?e.jsx(C,{name:l.edition,initialData:l,initialUsers:x}):e.jsxs("div",{children:[e.jsx("h1",{children:"Edit homepage data from file"}),e.jsx("hr",{}),e.jsx("div",{className:`file has-name is-fullwidth ${r&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>p(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(m,{})}),e.jsx("span",{className:"file-label",children:"Choose an edition file…"})]}),e.jsx("span",{className:"file-name",children:a==null?void 0:a.name})]})}),e.jsx("br",{}),e.jsx("div",{className:`file has-name is-fullwidth ${r&&"is-danger"}`,children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",onChange:s=>d(s.target.files[0])}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(m,{})}),e.jsx("span",{className:"file-label",children:"Choose a users file…"})]}),e.jsx("span",{className:"file-name",children:i==null?void 0:i.name})]})}),e.jsx("br",{}),e.jsx(S,{onClick:j,children:"Continue"})]})}export{H as default};
