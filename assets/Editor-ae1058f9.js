import{R as m,j as e,r as u}from"./index-f64f393c.js";import{B as x}from"./Button-6b3a7dd2.js";import{T as f,D as j,L as N,U as g}from"./UserInput-bc9a191a.js";import{I as p,a as C,v as O,T as S,E as I,B as E,U as T}from"./Editor-b0d32f02.js";import{B}from"./BroadcastingTable-2f8e8d47.js";import{d as L}from"./utils-bb826a11.js";import{O as z}from"./OutLink-caa421aa.js";var w={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},b=m.createContext&&m.createContext(w),d=globalThis&&globalThis.__assign||function(){return d=Object.assign||function(s){for(var a,n=1,t=arguments.length;n<t;n++){a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},d.apply(this,arguments)},W=globalThis&&globalThis.__rest||function(s,a){var n={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&a.indexOf(t)<0&&(n[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(s);o<t.length;o++)a.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(s,t[o])&&(n[t[o]]=s[t[o]]);return n};function k(s){return s&&s.map(function(a,n){return m.createElement(a.tag,d({key:n},a.attr),k(a.child))})}function V(s){return function(a){return m.createElement(M,d({attr:d({},s.attr)},a),k(s.child))}}function M(s){var a=function(n){var t=s.attr,o=s.size,l=s.title,c=W(s,["attr","size","title"]),r=o||n.size||"1em",i;return n.className&&(i=n.className),s.className&&(i=(i?i+" ":"")+s.className),m.createElement("svg",d({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,t,c,{className:i,style:d(d({color:s.color||n.color},n.style),s.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),l&&m.createElement("title",null,l),s.children)};return b!==void 0?m.createElement(b.Consumer,null,function(n){return a(n)}):a(w)}function R(s){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(s)}function _({value:s,setValue:a,name:n,description:t,requiredValues:o}){return e.jsxs(p,{name:n,description:t,children:[s.map((l,c)=>e.jsxs("div",{className:"field has-addons",children:[e.jsx("div",{className:"control is-expanded",children:e.jsx("input",{className:"input",type:"text",value:l.name,disabled:o.indexOf(l.name)>-1,onChange:r=>a(s.map((i,h)=>h!==c?i:{...i,name:r.target.value})),placeholder:"Name"})}),e.jsx("div",{className:"control",children:e.jsx("div",{className:"button is-static",children:":"})}),e.jsx("div",{className:"control is-expanded",children:e.jsx("div",{className:"file has-name is-fullwidth",children:e.jsxs("label",{className:"file-label",children:[e.jsx("input",{className:"file-input",type:"file",name:"resume",onChange:r=>a(s.map((i,h)=>h!==c?i:{...i,link:r.target.files[0].name}))}),e.jsxs("span",{className:"file-cta",children:[e.jsx("span",{className:"file-icon",children:e.jsx(R,{})}),e.jsx("span",{className:"file-label",children:"Choose a fileâ€¦"})]}),e.jsx("span",{className:"file-name",children:l.link})]})})}),o.indexOf(l.name)===-1&&e.jsx("div",{className:"control",children:e.jsx(x,{color:"danger",onClick:()=>a(s.filter((r,i)=>i!==c)),children:"X"})})]},c)),e.jsx(x,{onClick:()=>a([...s,{name:"",link:""}]),children:"Add Another"})]})}function y({users:s,data:a,setData:n}){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"Names"}),e.jsx(f,{name:"Name",description:"Full name of this broadcaster, for example: Giorgio World Media",value:a.name,setValue:t=>n("name",t)}),e.jsx(f,{name:"Short Name",description:"Shortened name of this broadcaster, for example: GWM",value:a.shortName,setValue:t=>n("shortName",t)}),e.jsx(f,{name:"Link",description:"Link for this broadcaster, generally short name but lowercase, for example: gwm",value:a.link,setValue:t=>n("link",t)})]}),e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"Dates"}),e.jsx(j,{name:"Creation Date",description:"When this broadcaster started their journey",value:a.created,setValue:t=>n("created",t)}),e.jsx(j,{name:"Closure Date",description:"When this broadcaster stopped broadcasting",value:a.closed,setValue:t=>n("closed",t)})]}),e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"Lists"}),e.jsx(N,{name:"Links",description:"YouTube channel, Twitch channel, Roblox group, etc.",value:a.links,setValue:t=>n("links",t)}),e.jsx("hr",{}),e.jsx(_,{name:"Logos",description:"Logos of the broadcaster",value:a.logos,setValue:t=>n("logos",t),requiredValues:["Dark Logo","Light Logo"]})]}),e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"People"}),e.jsx(g,{users:s,multiple:!0,name:"Owners",description:"Owners of this broadcaster",value:a.owners,setValue:t=>n("owners",t)}),e.jsx("hr",{}),e.jsx(g,{users:s,multiple:!0,name:"Staff",description:"People working for this broadcaster",value:a.staff,setValue:t=>n("staff",t)})]}),e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"Text"}),e.jsx("p",{children:"Custom components for this editor:"}),e.jsx("ul",{children:e.jsxs("li",{children:[e.jsxs("span",{className:"tag",children:["<","BroadcastTable /",">"]})," ","will generate a table with all shows livestreamed by this broadcaster. If omitted, the table will be generated at the very bottom of this broadcaster","'","s page"]})}),e.jsx(p,{name:"Text content",description:"Markdown that will be displayed next to all of the data from above",children:e.jsx(C,{value:a.textContent,setValue:t=>n("textContent",t),overrides:{BroadcastTable:{component:B,props:{example:!0}}}})})]})]})}const v={name:"",shortName:"",link:"",created:"",closed:"",links:[],logos:[{name:"Light Logo",link:""},{name:"Dark Logo",link:""}],textContent:"",owners:[],staff:[]};function P({users:s,addBroadcaster:a}){const n=localStorage.getItem("backup-broadcaster"),[t,o]=u.useState(n?JSON.parse(n):v);return u.useEffect(()=>{localStorage.setItem("backup-broadcaster",JSON.stringify(t))},[t]),e.jsxs("div",{children:[e.jsx(y,{users:s,data:t,setData:(l,c)=>o({...t,[l]:c})}),e.jsx("div",{className:"box",children:e.jsx(x,{onClick:()=>{a({id:O(),name:t.name,shortName:t.shortName,link:t.link,created:t.created,closed:t.closed,links:t.links,logos:t.logos,owners:t.owners,staff:t.staff,textContent:t.textContent}),o(v)},children:"Create Broadcaster"})})]})}function F({broadcasters:s,setBroadcasters:a,users:n}){var c;const[t,o]=u.useState((c=s[0])==null?void 0:c.id),l=s.map(r=>e.jsxs("option",{value:r.id,children:[r.name," (",r.shortName,")"]},r.id));return e.jsxs("div",{children:[e.jsx("div",{className:"box",children:e.jsx(p,{name:"Choose a broadcaster to edit",children:e.jsx("div",{className:"select is-fullwidth",children:e.jsx("select",{value:t,onChange:r=>o(r.target.value),children:l})})})}),e.jsx(y,{data:s.find(r=>r.id===t),setData:(r,i)=>a(s.map(h=>h.id===t?{...h,[r]:i}:h)),users:n})]})}function G({data:s}){return e.jsxs("div",{className:"box",children:[e.jsx("h1",{children:"Output"}),e.jsx("p",{children:"Send this file in the Broadcasters thread in the #roesc-archive channel"}),e.jsx(S,{disabled:!0,value:JSON.stringify(s,null,4),className:"mb-2"}),e.jsx(x,{onClick:()=>L(s,"broadcasters"),children:"Download"})]})}function U(){return e.jsxs("div",{className:"box",children:[e.jsxs("h1",{children:["Important: When you","'","re done making edits"]}),e.jsxs("p",{children:["RoESC Archive is a fully static site, meaning it","'","s impossible to edit the site live. When you make the changes you wanted to make, go to the ",e.jsx("b",{children:"Output"})," tab and download all files found there. Then go to the #roesc-archive channel in the Gybasoft server and send those files in the appropriate thread."]}),e.jsx("h1",{children:"Images"}),e.jsxs("p",{children:["Once again, RoESC Archive is fully static so it","'","s just not possible to upload files. Some fields ask you to upload files, this is done just to get their name. When sending the files downloaded from Output, remember to include those images as well so I can upload them."]}),e.jsx("h1",{children:"Switching between editors"}),e.jsxs("p",{children:["If you want to add a broadcaster or a user while using another editor, make sure to switch to the right one in the tab bar here. Don","'","t go to the main editor website, as that will cause your changes to be lost (sorry!)"]}),e.jsx("h1",{children:"Markdown / Text Content / Written Content"}),e.jsx("p",{children:"Fields labeled as one of the above are markdown editors. You can use:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"*cursive*"}),e.jsx("li",{children:"**bold**"}),e.jsx("li",{children:"~~strikethrough~~"}),e.jsx("li",{children:"# Headers (also ##, ###, and so on)"}),e.jsx("li",{children:"--- (horizontal line)"}),e.jsx("li",{children:e.jsx(z,{to:"https://www.markdownguide.org/basic-syntax/",children:"Full Guide"})})]}),e.jsx("p",{children:"You can see a live preview of your text to make it easier to use"}),e.jsxs("p",{children:["Some pages allow you to insert generated content (like tables) into your markdown content. They","'","re going to be listed above the markdown box. You insert them like this:"," ",e.jsxs("pre",{children:["<","SomeTable /",">"]}),"Those components often use generated content which isn","'","t available at the time of editing, so an example will be displayed instead"]}),e.jsxs("h1",{children:["Why isn","'","t RoESC Archive just a text editor, like other wikis?"]}),e.jsx("p",{children:"Because having data organised like this allows me to generate other stuff with it (for example automatic country / user pages, records, etc.), as well as keep it consistent between RoESCs."}),e.jsx("h1",{children:"Questions"}),e.jsxs("p",{children:["If you","'","re confused about something or you just have a question, you can ask it in Gybasoft #general or in my DMs. My Discord username is ",e.jsx("div",{className:"tag",children:".gabys"})]})]})}function D({broadcasters:s,setBroadcasters:a,users:n,setUsers:t,embedded:o}){const l=[{name:"Edit Broadcaster",component:e.jsx(F,{broadcasters:s,setBroadcasters:a,users:n})},{name:"New Broadcaster",component:e.jsx(P,{users:n,addBroadcaster:i=>a([...s,i])})},{name:"|"},{name:"Users Editor",component:e.jsx(T,{users:n,setUsers:t})}];o||(l.splice(0,0,{name:"Info",component:e.jsx(U,{})}),l.splice(3,0,{name:"Output",component:e.jsx(G,{data:s})}));const[c,r]=u.useState(l[0].name);return e.jsxs("div",{children:[e.jsx("div",{className:"box",children:e.jsx("div",{className:"tabs is-centered",children:e.jsx("ul",{className:"ml-0",children:l.map(i=>e.jsx("li",{className:c===i.name?"is-active":"",children:e.jsx("a",{onClick:()=>i.name!=="|"&&r(i.name),children:i.name})},i.name))})})}),e.jsx(I,{FallbackComponent:E,children:l.find(i=>i.name===c).component})]})}export{D as E};
